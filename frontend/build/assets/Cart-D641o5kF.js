import{m as p,c as i,a as b,u as j,n as k,r as f,j as e,H as N,o as v}from"./index-V3xU5zvR.js";import w from"./Footer-BVCtypdT.js";/**
 * @license lucide-react v0.390.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=p("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),I=()=>{const n=i(r=>r.cart.cartItems),l=i(r=>r.auth.userInfo),u=l?l.user._id:null,x=b();j();const[g]=k(),[a,y]=f.useState({phone:"",street:"",city:"",country:""}),c=r=>{const{id:t,value:o}=r.target;y(s=>({...s,[t]:o}))},m=r=>{x(v({id:r}))},d=n.reduce((r,t)=>r+t.price*t.quantity,0),h=async r=>{r.preventDefault();const t=d,o={userId:u,items:n.map(s=>({id:s.id,name:s.name,price:s.price,quantity:s.quantity,image:s.image})),amount:t,address:{phone:a.phone,street:a.street,city:a.city,country:a.country}};try{const s=await g(o).unwrap();window.location.href=s.session_url}catch(s){console.error("Failed to place order:",s)}};return e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsxs("div",{className:"container mx-auto p-4 bg-background text-text dark:bg-background-dark dark:text-text-dark",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 text-primary text-center dark:text-primary-dark",children:"Cart"}),n.length===0?e.jsx("p",{className:"text-center text-lg text-gray-700 dark:text-gray-300",children:"Your cart is empty ðŸ˜”"}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[n.map(r=>e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:r.image,alt:r.name,className:"w-20 h-20 object-cover rounded mr-4"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:r.name}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["$",r.price]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("p",{className:"text-gray-700 font-semibold dark:text-gray-300",children:["$",r.price*r.quantity]}),e.jsx("button",{className:"bg-red-500 text-white px-3 py-2 rounded hover:bg-red-600 transition-colors",onClick:()=>m(r.id),children:e.jsx(C,{className:"w-5 h-5"})})]})]},r.id)),e.jsx("div",{className:"flex justify-end items-center text-lg font-semibold",children:e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Subtotal: $",d]})})]}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-8 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Checkout"}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-gray-700 dark:text-gray-300",children:"Phone"}),e.jsx("input",{type:"text",id:"phone",value:a.phone,onChange:c,className:"w-full px-4 py-2 border bg-gray-100 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:focus:ring-primary-dark",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"street",className:"block text-gray-700 dark:text-gray-300",children:"Street address"}),e.jsx("input",{type:"text",id:"street",value:a.street,onChange:c,className:"w-full px-4 py-2 border bg-gray-100 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:focus:ring-primary-dark",required:!0})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{htmlFor:"city",className:"block text-gray-700 dark:text-gray-300",children:"City"}),e.jsx("input",{type:"text",id:"city",value:a.city,onChange:c,className:"w-full px-4 py-2 border bg-gray-100 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:focus:ring-primary-dark",required:!0})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{htmlFor:"country",className:"block text-gray-700 dark:text-gray-300",children:"Country"}),e.jsx("input",{type:"text",id:"country",value:a.country,onChange:c,className:"w-full px-4 py-2 border bg-gray-100 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:focus:ring-primary-dark",required:!0})]})]}),e.jsxs("button",{type:"submit",className:"w-full bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors",children:["Pay $",d]})]})]})]})]}),e.jsx(w,{})]})};export{I as default};
