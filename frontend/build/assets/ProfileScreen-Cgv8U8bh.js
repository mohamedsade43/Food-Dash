import{r as d,c as y,u as v,a as w,e as j,j as e,H as N,B as n,s as P}from"./index-V3xU5zvR.js";import{L as C}from"./Loader-Dga2Ek4T.js";import E from"./Footer-BVCtypdT.js";const L=()=>{const[i,l]=d.useState(""),[c,u]=d.useState(""),[t,x]=d.useState(""),[m,f]=d.useState(""),{userInfo:a}=y(r=>r.auth),o=v(),p=w(),[b,{isLoading:h}]=j();d.useEffect(()=>{a&&(l(a.name),u(a.email))},[a]);const k=async r=>{var g;if(r.preventDefault(),t!==m)n.error("Passwords do not match");else try{const s=await b({_id:a._id,name:i,email:c,password:t}).unwrap();p(P({...a,user:{...s}})),n.success("Profile Updated")}catch(s){n.error(((g=s==null?void 0:s.data)==null?void 0:g.message)||s.error)}};return e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsx("div",{className:"container mx-auto px-4 py-6 mt-16 bg-background text-text dark:bg-background-dark dark:text-text-dark",children:e.jsxs("div",{className:"bg-background dark:bg-gray-800 shadow rounded-lg p-6 flex flex-col items-center",children:[e.jsxs("div",{className:"w-full flex flex-col md:flex-row items-center",children:[e.jsx("div",{className:"w-full md:w-1/3 flex flex-col items-center md:items-start",children:a.profilePicture?e.jsx("img",{src:a.profilePicture,alt:"Profile",className:"w-24 h-24 rounded-full mb-4"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 mb-4"})}),e.jsx("div",{className:"w-full md:w-2/3",children:a.user.isAdmin&&e.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start mb-4",children:[e.jsx("button",{onClick:()=>o("/admin/menu-items"),className:"bg-background dark:bg-gray-800 border-2 border-primary text-text dark:text-text-dark hover:bg-primary dark:hover:bg-primary-dark hover:text-background dark:hover:text-background-dark px-4 py-2 rounded-md m-2",children:"Menu Items"}),e.jsx("button",{onClick:()=>o("/admin/users"),className:"bg-background dark:bg-gray-800 border-2 border-primary text-text dark:text-text-dark hover:bg-primary dark:hover:bg-primary-dark hover:text-background dark:hover:text-background-dark px-4 py-2 rounded-md m-2",children:"Users"}),e.jsx("button",{onClick:()=>o("/admin/orders"),className:"bg-background dark:bg-gray-800 border-2 border-primary text-text dark:text-text-dark hover:bg-primary dark:hover:bg-primary-dark hover:text-background dark:hover:text-background-dark px-4 py-2 rounded-md m-2",children:"Orders"})]})})]}),e.jsxs("div",{className:"w-full md:w-2/3 mt-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-red-600 dark:text-red-400 mb-6",children:"Update Profile"}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",id:"name",placeholder:"Enter your name",value:i,autoComplete:"username",onChange:r=>l(r.target.value),className:"w-full px-4 py-3 border bg-gray-100 dark:bg-gray-700 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400"})}),e.jsx("div",{children:e.jsx("input",{type:"email",id:"email",placeholder:"Enter your email",value:c,onChange:r=>u(r.target.value),className:"w-full px-4 py-3 border bg-gray-100 dark:bg-gray-700 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400"})}),e.jsx("div",{children:e.jsx("input",{type:"password",id:"password",placeholder:"Enter your password",value:t,onChange:r=>x(r.target.value),className:"w-full px-4 py-3 border bg-gray-100 dark:bg-gray-700 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400"})}),e.jsx("div",{children:e.jsx("input",{type:"password",id:"confirmPassword",placeholder:"Confirm your password",value:m,onChange:r=>f(r.target.value),className:"w-full px-4 py-3 border bg-gray-100 dark:bg-gray-700 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400"})}),h&&e.jsx(C,{}),e.jsx("button",{type:"submit",className:"w-full py-3 mt-4 text-white bg-red-500 rounded-lg shadow-lg hover:bg-red-600 dark:bg-red-700 dark:hover:bg-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-red-400",children:"Update"})]})]})]})}),e.jsx(E,{})]})};export{L as default};
