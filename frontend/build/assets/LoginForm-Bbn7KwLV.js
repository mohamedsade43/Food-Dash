import{r as n,u as b,a as y,b as w,c as j,s as g,B as o,j as e,H as k,L as u}from"./index-V3xU5zvR.js";import v from"./Footer-BVCtypdT.js";const L=()=>{const[i,x]=n.useState(""),[d,m]=n.useState(""),r=b(),l=y(),[f]=w(),{userInfo:c}=j(s=>s.auth);n.useEffect(()=>{c&&r("/"),window.google.accounts.id.initialize({client_id:"1029530702254-5n6cvus03bri08fcgd0lrqmumtblrqu9.apps.googleusercontent.com",callback:h}),window.google.accounts.id.renderButton(document.getElementById("googleSignInDiv"),{theme:"outline",size:"large"}),window.google.accounts.id.prompt()},[r,c]);const h=async s=>{try{const t=await(await fetch("/api/users/google-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tokenId:s.credential})})).json();t.success?(l(g(t)),r("/"),o.success("Logged in with Google!")):o.error(t.message)}catch{o.error("Google login failed!")}},p=async s=>{var a;s.preventDefault();try{const t=await f({email:i,password:d}).unwrap();l(g({...t})),r("/"),console.log(t)}catch(t){o.error(((a=t==null?void 0:t.data)==null?void 0:a.message)||t.error)}};return e.jsxs(e.Fragment,{children:[e.jsx(k,{}),e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background text-text dark:bg-background-dark dark:text-text-dark p-4",children:e.jsxs("div",{className:"w-full max-w-sm p-8 space-y-6 bg-background dark:bg-gray-800 rounded-lg shadow-2xl",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-red-600 dark:text-red-400",children:"Login"}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"email",value:i,onChange:s=>x(s.target.value),required:!0,placeholder:"email",className:"w-full px-4 py-3 border rounded-lg bg-gray-100 dark:bg-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),e.jsx(u,{to:"/forgot-password",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-600 font-medium text-sm hover:underline transition-all duration-300 ease-in-out px-2 py-1",children:"Forgot Password"})]}),e.jsx("input",{type:"password",value:d,onChange:s=>m(s.target.value),required:!0,placeholder:"password",className:"w-full px-4 py-3 border bg-gray-100 dark:bg-gray-700 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400"})]}),e.jsx("button",{type:"submit",className:"w-full py-3 mt-4 text-white bg-red-500 rounded-lg shadow-lg hover:bg-red-600 dark:bg-red-700 dark:hover:bg-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-red-400",children:"Login"})]}),e.jsx("div",{className:"text-center text-gray-500 dark:text-gray-300",children:"or login with provider"}),e.jsx("div",{id:"googleSignInDiv",className:"flex items-center justify-center w-full py-3 mt-2"}),e.jsxs("p",{className:"text-sm text-center text-gray-600 dark:text-gray-300",children:["Don't have an account?"," ",e.jsx(u,{to:"/register",className:"font-medium text-red-600 dark:text-red-400 hover:underline",children:"Register"})]})]})}),e.jsx(v,{})]})};export{L as default};
