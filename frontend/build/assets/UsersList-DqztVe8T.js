import{f as j,g as N,h as w,r as x,j as e,H as v,B as s}from"./index-V3xU5zvR.js";import{L as E}from"./Loader-Dga2Ek4T.js";import U from"./Footer-BVCtypdT.js";const F=()=>{const{data:d,error:u,isLoading:m,refetch:i}=j(),[g]=N(),[h]=w(),[l,a]=x.useState(null),[t,o]=x.useState({name:"",email:""});if(m)return e.jsx(E,{});if(u)return e.jsx("div",{children:"Error loading users"});const p=(d==null?void 0:d.data)||[],y=async r=>{try{await g(r).unwrap(),s.success("User deleted"),i()}catch{s.error("Error deleting user")}},b=r=>{a(r._id),o({name:r.name,email:r.email})},c=r=>{const{name:n,value:k}=r.target;o({...t,[n]:k})},f=async r=>{r.preventDefault();try{await h({id:l,data:t}).unwrap(),a(null),s.success("User updated"),i()}catch{s.error("Error updating user")}};return e.jsxs(e.Fragment,{children:[e.jsx(v,{}),e.jsxs("div",{className:"container mx-auto p-4 mt-14",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 text-center text-primary dark:text-primary-dark",children:"Users List"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"lg:w-2/4 sm:w-2/4 mx-auto bg-background text-text dark:bg-background-dark dark:text-text-dark shadow-2xl rounded-lg",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4",children:"ID"}),e.jsx("th",{className:"py-2 px-4",children:"Name"}),e.jsx("th",{className:"py-2 px-4",children:"Email"}),e.jsx("th",{className:"py-2 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:p.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 px-4 text-primary dark:text-primary-dark",children:r._id}),e.jsx("td",{className:"py-2 px-4",children:r.name}),e.jsx("td",{className:"py-2 px-4",children:r.email}),e.jsxs("td",{className:"py-2 px-4",children:[e.jsx("button",{className:"bg-red-500 dark:bg-red-700 text-white px-4 py-2 m-2 rounded hover:bg-red-600 dark:hover:bg-red-800",onClick:()=>y(r._id),children:"Delete"}),e.jsx("button",{className:"bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 m-2 py-2 rounded hover:bg-gray-400 dark:hover:bg-gray-600",onClick:()=>b(r),children:"Edit"})]})]},r._id))})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center z-50",onClick:()=>a(null),children:e.jsxs("div",{className:"bg-background dark:bg-background-dark text-text dark:text-text-dark p-6 rounded-lg shadow-2xl w-full max-w-md mx-auto",onClick:r=>r.stopPropagation(),children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-primary dark:text-primary-dark",children:"Edit User"}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",name:"name",value:t.name,onChange:c,required:!0,placeholder:"Name",className:"w-full px-4 py-2 border bg-gray-100 dark:bg-gray-700 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400"})}),e.jsx("div",{children:e.jsx("input",{type:"email",name:"email",value:t.email,onChange:c,required:!0,placeholder:"Email",className:"w-full px-4 py-2 border bg-gray-100 dark:bg-gray-700 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400"})}),e.jsx("button",{type:"submit",className:"w-full py-3 mt-4 text-white bg-primary rounded-lg shadow-lg hover:bg-red-600 dark:bg-primary-dark dark:hover:bg-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-red-400",children:"Update User"}),e.jsx("button",{type:"button",className:"w-full py-3 mt-4 text-white bg-gray-500 rounded-lg shadow-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:()=>a(null),children:"Cancel"})]})]})})]}),e.jsx(U,{})]})};export{F as default};
